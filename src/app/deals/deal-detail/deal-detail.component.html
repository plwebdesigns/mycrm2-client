<div *ngIf="deal">
  <form #dealForm="ngForm">
    <div class="tile is-ancestor">
      <div class="tile is-vertical is-8">
        <div class="tile is-parent is-vertical">
          <article class="tile is-child notification is-primary">
            <h1 class="title is-1 has-text-centered">DEAL {{deal.id}}</h1>
            <table class="table is-narrow">
              <tr>
                <td>
                  Status:
                  <input class="input" name="status"
                         [ngModel]="deal.status"
                         (ngModelChange)="deal.status=$event">
                </td>
                <td>
                  Amount Client Received:
                  <input class="input" name="amt_client_recvd"
                         [ngModel]="deal.amt_client_recvd"
                         (ngModelChange)="deal.amt_client_recvd=$event">
                </td>
                <td>
                  Profit:
                  <input class="input" name="profit"
                         [ngModel]="deal.profit"
                         (ngModelChange)="deal.profit=$event">
                </td>
              </tr>
              <tr>
                <td>
                  Payments Purchased:
                  <input class="input" name="payments_purchased"
                         [ngModel]="deal.payments_purchased"
                         (ngModelChange)="deal.payments_purchased=$event">
                </td>
                <td>
                  Payments Remaining:
                  <input class="input" name="payments_remaining"
                         [ngModel]="deal.payments_remaining"
                         (ngModelChange)="deal.payments_remaining=$event">
                </td>
                <td>
                  Notes:
                  <input class="input" name="notes"
                         [ngModel]="deal.notes"
                         (ngModelChange)="deal.notes=$event">
                </td>
              </tr>
              <tr>
                <td>
                  Sales Person:
                  <input class="input" name="sales_person"
                         [ngModel]="deal.sales_person"
                         (ngModelChange)="deal.sales_person=$event">
                </td>
                <td>
                  Updated:
                  <input class="input" name="updated_at"
                         [ngModel]="deal.updated_at | date:'mediumDate'"
                         (ngModelChange)="deal.updated_at=$event">
                </td>
                <td>
                  Deal ID:
                  <input class="input" name="id"
                         [ngModel]="deal.id"
                         (ngModelChange)="deal.id=$event" disabled>
                </td>
              </tr>
              <tr>
                <td><button class="button is-link is-inverted" (click)="updateDeal(dealForm.value)">Update</button></td>
                <td><button class="button is-link is-inverted" (click)="goBack()">Back</button></td>
              </tr>
            </table>
          </article>
        </div>
      </div>
    </div>
  </form>
</div>
<div class="modal" id="modal-success">
  <div class="modal-background"></div>
  <div class="modal-card">
    <header class="modal-card-head">
      <p class="modal-card-title has-text-primary">SUCCESS</p>
      <button class="delete" aria-label="close" (click)="toggleModal()"></button>
    </header>
    <section class="modal-card-body">
      <p>Information for deal {{deal?.id}} has been updated!</p>
    </section>
    <footer class="modal-card-foot">
      <button class="button" (click)="toggleModal()">Close</button>
    </footer>
  </div>
</div>
